<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Settings - Neo-SaaS Admin</title>
    
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body x-data="{ 
    sidebarOpen: false, 
    openSubmenus: {},
    showCurrentPassword: false,
    showNewPassword: false,
    showConfirmPassword: false,
    showSuccessAlert: true,
    notifications: {
        marketing: true,
        security: true,
        weekly: false,
        mentions: true
    },
    selectedRole: 'editor',
    selectedTech: ['react', 'nextjs', 'tailwind'],
    timezone: 'utc',
    bio: '',
    maxBioLength: 240
}">
    
    <!-- Mobile Sidebar Overlay -->
    <div 
        x-show="sidebarOpen" 
        x-transition:enter="transition-opacity duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition-opacity duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        @click="sidebarOpen = false"
        class="sidebar-overlay lg:hidden"
    ></div>

    <!-- Sidebar -->
    <aside 
        class="sidebar"
        :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'"
    >
        <!-- Logo -->
        <div class="sidebar-header">
            <a href="dashboard.html" class="flex items-center gap-3">
                <div class="flex h-9 w-9 items-center justify-center rounded-xl bg-primary">
                    <i data-lucide="layers" class="h-5 w-5 text-primary-foreground"></i>
                </div>
                <span class="text-lg font-semibold text-sidebar-foreground">Dashboard</span>
            </a>
            <button @click="sidebarOpen = false" class="btn btn-ghost btn-icon-sm lg:hidden">
                <i data-lucide="chevron-left" class="h-4 w-4"></i>
            </button>
        </div>

        <!-- Navigation -->
        <nav class="sidebar-nav">
            <div class="space-y-1">
                <a href="dashboard.html" class="sidebar-menu-item">
                    <i data-lucide="layout-dashboard" class="h-5 w-5"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-menu-item">
                    <i data-lucide="bar-chart-3" class="h-5 w-5"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="sidebar-menu-item">
                    <i data-lucide="users" class="h-5 w-5"></i>
                    <span>Customers</span>
                </a>
                <a href="#" class="sidebar-menu-item">
                    <i data-lucide="shopping-cart" class="h-5 w-5"></i>
                    <span>Orders</span>
                </a>
                <a href="tables.html" class="sidebar-menu-item">
                    <i data-lucide="table-2" class="h-5 w-5"></i>
                    <span>Tables</span>
                </a>
                <a href="#" class="sidebar-menu-item">
                    <i data-lucide="file-text" class="h-5 w-5"></i>
                    <span>Reports</span>
                </a>
            </div>

            <div class="mt-8">
                <p class="sidebar-section-title mb-4">Support</p>
                <div class="space-y-1">
                    <a href="settings.html" class="sidebar-menu-item active">
                        <i data-lucide="settings" class="h-5 w-5"></i>
                        <span>Settings</span>
                        <span class="ml-auto h-2 w-2 rounded-full bg-primary"></span>
                    </a>
                    <a href="#" class="sidebar-menu-item">
                        <i data-lucide="help-circle" class="h-5 w-5"></i>
                        <span>Help Center</span>
                    </a>
                </div>
            </div>
        </nav>

        <!-- User Section -->
        <div class="sidebar-footer">
            <div class="flex items-center gap-3 rounded-xl p-3 transition-colors duration-150 hover:bg-secondary cursor-pointer">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=admin" alt="User" class="h-10 w-10 rounded-full bg-secondary">
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-sidebar-foreground truncate">John Doe</p>
                    <p class="text-xs text-muted-foreground truncate">Admin</p>
                </div>
                <i data-lucide="log-out" class="h-4 w-4 text-muted-foreground"></i>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="lg:pl-64">
        <!-- Header -->
        <header class="header px-4 lg:px-8">
            <div class="flex items-center gap-4">
                <button @click="sidebarOpen = true" class="btn btn-ghost btn-icon lg:hidden">
                    <i data-lucide="menu" class="h-5 w-5"></i>
                </button>
                <div class="relative hidden sm:block">
                    <i data-lucide="search" class="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"></i>
                    <input type="search" placeholder="Search anything..." class="form-input w-64 rounded-full bg-secondary border-0 pl-10 pr-4">
                </div>
            </div>
            <div class="flex items-center gap-2">
                <button class="btn btn-ghost btn-icon relative">
                    <i data-lucide="bell" class="h-5 w-5"></i>
                    <span class="absolute -right-0.5 -top-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-destructive text-[10px] font-medium text-white">2</span>
                </button>
                <div class="flex items-center gap-3 px-2 cursor-pointer">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=admin" alt="User" class="h-8 w-8 rounded-full">
                    <div class="hidden md:block text-left">
                        <p class="text-sm font-medium">John Doe</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <main class="p-4 lg:p-8">
            <!-- Page Title -->
            <div class="mb-8">
                <h1 class="text-2xl font-bold text-foreground">Account Settings</h1>
                <p class="text-muted-foreground mt-1">Manage your profile, security, and preferences.</p>
            </div>

            <!-- Settings Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <!-- Profile Card - Spans 2 columns -->
                <div class="card border-0 shadow-card col-span-1 lg:col-span-2">
                    <div class="card-header">
                        <h3 class="card-title">Profile Information</h3>
                        <p class="card-description">Update your personal details and public profile.</p>
                    </div>
                    <div class="card-content space-y-6">
                        <!-- Photo Upload Section -->
                        <div class="flex items-center gap-6">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=admin" alt="User" class="h-20 w-20 rounded-full bg-secondary">
                            <div class="flex flex-col gap-2">
                                <div class="flex items-center gap-3">
                                    <button class="btn btn-primary btn-sm">Change Photo</button>
                                    <button class="text-sm text-muted-foreground hover:text-destructive transition-colors">Remove</button>
                                </div>
                                <p class="text-xs text-muted-foreground">JPG, GIF or PNG. Max size 2MB.</p>
                            </div>
                        </div>

                        <!-- Name Fields -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label for="firstName" class="text-sm font-medium text-foreground">First Name</label>
                                <input id="firstName" type="text" value="John" placeholder="Enter first name" class="form-input rounded-lg">
                            </div>
                            <div class="space-y-2">
                                <label for="lastName" class="text-sm font-medium text-foreground">Last Name</label>
                                <input id="lastName" type="text" value="Doe" placeholder="Enter last name" class="form-input rounded-lg">
                            </div>
                        </div>

                        <!-- Username with Addon -->
                        <div class="space-y-2">
                            <label for="username" class="text-sm font-medium text-foreground">Username</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <span class="text-muted-foreground text-sm">@</span>
                                </div>
                                <input id="username" type="text" value="johndoe" placeholder="username" class="form-input pl-8 rounded-lg">
                            </div>
                            <p class="text-xs text-muted-foreground">Public facing username. This will be visible to other users.</p>
                        </div>

                        <!-- Bio Textarea -->
                        <div class="space-y-2">
                            <div class="flex items-center justify-between">
                                <label for="bio" class="text-sm font-medium text-foreground">Bio</label>
                                <span class="text-xs" :class="bio.length > maxBioLength ? 'text-destructive' : 'text-muted-foreground'" x-text="bio.length + '/' + maxBioLength + ' characters'"></span>
                            </div>
                            <textarea 
                                id="bio" 
                                x-model="bio"
                                rows="4" 
                                placeholder="Write a brief description about yourself..."
                                class="form-input rounded-lg resize-none"
                                :class="bio.length > maxBioLength ? 'form-input-error' : ''"
                            ></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex items-center justify-end gap-3 pt-4 border-t border-border">
                            <button class="btn btn-outline px-4 py-2">Cancel</button>
                            <button class="btn btn-primary px-4 py-2">Save Changes</button>
                        </div>
                    </div>
                </div>

                <!-- Security Card -->
                <div class="card border-0 shadow-card">
                    <div class="card-header">
                        <h3 class="card-title">Update Password</h3>
                        <p class="card-description">Ensure your account is using a secure password.</p>
                    </div>
                    <div class="card-content space-y-4">
                        <!-- Current Password -->
                        <div class="space-y-2">
                            <label for="currentPassword" class="text-sm font-medium text-foreground">Current Password</label>
                            <div class="relative">
                                <input 
                                    id="currentPassword" 
                                    :type="showCurrentPassword ? 'text' : 'password'" 
                                    placeholder="Enter current password" 
                                    class="form-input rounded-lg pr-10"
                                >
                                <button type="button" @click="showCurrentPassword = !showCurrentPassword" class="absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground">
                                    <i x-show="!showCurrentPassword" data-lucide="eye" class="h-4 w-4"></i>
                                    <i x-show="showCurrentPassword" data-lucide="eye-off" class="h-4 w-4"></i>
                                </button>
                            </div>
                        </div>

                        <!-- New Password - ERROR STATE -->
                        <div class="space-y-2">
                            <label for="newPassword" class="text-sm font-medium text-foreground">New Password</label>
                            <div class="relative">
                                <input 
                                    id="newPassword" 
                                    :type="showNewPassword ? 'text' : 'password'" 
                                    value="weak"
                                    placeholder="Enter new password" 
                                    class="form-input form-input-error rounded-lg pr-16 text-destructive"
                                >
                                <div class="absolute inset-y-0 right-0 flex items-center gap-1 pr-3">
                                    <i data-lucide="alert-circle" class="h-4 w-4 text-destructive"></i>
                                    <button type="button" @click="showNewPassword = !showNewPassword" class="text-muted-foreground hover:text-foreground">
                                        <i x-show="!showNewPassword" data-lucide="eye" class="h-4 w-4"></i>
                                        <i x-show="showNewPassword" data-lucide="eye-off" class="h-4 w-4"></i>
                                    </button>
                                </div>
                            </div>
                            <p class="text-xs text-destructive">Password must be at least 8 characters and contain a symbol.</p>
                        </div>

                        <!-- Confirm Password - ERROR STATE -->
                        <div class="space-y-2">
                            <label for="confirmPassword" class="text-sm font-medium text-foreground">Confirm Password</label>
                            <div class="relative">
                                <input 
                                    id="confirmPassword" 
                                    :type="showConfirmPassword ? 'text' : 'password'" 
                                    value="different"
                                    placeholder="Confirm new password" 
                                    class="form-input form-input-error rounded-lg pr-16 text-destructive"
                                >
                                <div class="absolute inset-y-0 right-0 flex items-center gap-1 pr-3">
                                    <i data-lucide="alert-circle" class="h-4 w-4 text-destructive"></i>
                                    <button type="button" @click="showConfirmPassword = !showConfirmPassword" class="text-muted-foreground hover:text-foreground">
                                        <i x-show="!showConfirmPassword" data-lucide="eye" class="h-4 w-4"></i>
                                        <i x-show="showConfirmPassword" data-lucide="eye-off" class="h-4 w-4"></i>
                                    </button>
                                </div>
                            </div>
                            <p class="text-xs text-destructive">Passwords do not match.</p>
                        </div>

                        <!-- Password Requirements -->
                        <div class="rounded-lg bg-secondary/50 p-3 mt-4">
                            <p class="text-xs font-medium text-muted-foreground mb-2">Password Requirements:</p>
                            <ul class="text-xs text-muted-foreground space-y-1">
                                <li class="flex items-center gap-2">
                                    <span class="h-1 w-1 rounded-full bg-muted-foreground"></span>
                                    Minimum 8 characters
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="h-1 w-1 rounded-full bg-muted-foreground"></span>
                                    At least one uppercase letter
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="h-1 w-1 rounded-full bg-muted-foreground"></span>
                                    At least one number
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="h-1 w-1 rounded-full bg-muted-foreground"></span>
                                    At least one symbol (!@#$%^&*)
                                </li>
                            </ul>
                        </div>

                        <button class="btn btn-primary w-full mt-4">Update Password</button>
                    </div>
                </div>

                <!-- Preferences Card - Full Width -->
                <div class="card border-0 shadow-card col-span-1 lg:col-span-3">
                    <div class="card-header">
                        <h3 class="card-title">Preferences & Notifications</h3>
                        <p class="card-description">Manage your notification settings and preferences.</p>
                    </div>
                    <div class="card-content space-y-8">
                        <!-- Success Alert Banner -->
                        <div x-show="showSuccessAlert" class="flex items-center justify-between rounded-xl bg-success/10 border border-success/20 p-4">
                            <div class="flex items-center gap-3">
                                <div class="flex h-8 w-8 items-center justify-center rounded-full bg-success/20">
                                    <i data-lucide="check-circle" class="h-5 w-5 text-success"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-success">Success!</p>
                                    <p class="text-sm text-success/80">Successfully updated your notification preferences.</p>
                                </div>
                            </div>
                            <button @click="showSuccessAlert = false" class="text-success/60 hover:text-success transition-colors">
                                <i data-lucide="x" class="h-5 w-5"></i>
                            </button>
                        </div>

                        <!-- Email Notifications with Toggle Switches -->
                        <div class="space-y-4">
                            <h4 class="text-sm font-semibold text-foreground">Email Notifications</h4>
                            <div class="space-y-4">
                                <!-- Marketing -->
                                <div class="flex items-center justify-between p-4 rounded-xl border border-border hover:bg-secondary/30 transition-colors">
                                    <div class="space-y-0.5">
                                        <p class="text-sm font-medium text-foreground">Marketing Emails</p>
                                        <p class="text-xs text-muted-foreground">Receive emails about new features and updates.</p>
                                    </div>
                                    <button 
                                        @click="notifications.marketing = !notifications.marketing"
                                        class="toggle-switch"
                                        :data-state="notifications.marketing ? 'checked' : 'unchecked'"
                                    >
                                        <span class="toggle-switch-thumb"></span>
                                    </button>
                                </div>
                                <!-- Security -->
                                <div class="flex items-center justify-between p-4 rounded-xl border border-border hover:bg-secondary/30 transition-colors">
                                    <div class="space-y-0.5">
                                        <p class="text-sm font-medium text-foreground">Security Alerts</p>
                                        <p class="text-xs text-muted-foreground">Get notified about security events on your account.</p>
                                    </div>
                                    <button 
                                        @click="notifications.security = !notifications.security"
                                        class="toggle-switch"
                                        :data-state="notifications.security ? 'checked' : 'unchecked'"
                                    >
                                        <span class="toggle-switch-thumb"></span>
                                    </button>
                                </div>
                                <!-- Weekly -->
                                <div class="flex items-center justify-between p-4 rounded-xl border border-border hover:bg-secondary/30 transition-colors">
                                    <div class="space-y-0.5">
                                        <p class="text-sm font-medium text-foreground">Weekly Digest</p>
                                        <p class="text-xs text-muted-foreground">Receive a weekly summary of your activity.</p>
                                    </div>
                                    <button 
                                        @click="notifications.weekly = !notifications.weekly"
                                        class="toggle-switch"
                                        :data-state="notifications.weekly ? 'checked' : 'unchecked'"
                                    >
                                        <span class="toggle-switch-thumb"></span>
                                    </button>
                                </div>
                                <!-- Mentions -->
                                <div class="flex items-center justify-between p-4 rounded-xl border border-border hover:bg-secondary/30 transition-colors">
                                    <div class="space-y-0.5">
                                        <p class="text-sm font-medium text-foreground">Mentions & Comments</p>
                                        <p class="text-xs text-muted-foreground">Get notified when someone mentions you.</p>
                                    </div>
                                    <button 
                                        @click="notifications.mentions = !notifications.mentions"
                                        class="toggle-switch"
                                        :data-state="notifications.mentions ? 'checked' : 'unchecked'"
                                    >
                                        <span class="toggle-switch-thumb"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Role Selection -->
                        <div class="space-y-4">
                            <h4 class="text-sm font-semibold text-foreground">Role Selection</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <button 
                                    @click="selectedRole = 'admin'"
                                    class="relative flex flex-col items-start p-4 rounded-xl border-2 transition-all text-left"
                                    :class="selectedRole === 'admin' ? 'border-primary bg-accent' : 'border-border hover:border-muted-foreground/30 hover:bg-secondary/30'"
                                >
                                    <div class="absolute top-4 right-4 h-5 w-5 rounded-full border-2 flex items-center justify-center transition-colors"
                                         :class="selectedRole === 'admin' ? 'border-primary bg-primary' : 'border-muted-foreground/30'">
                                        <div x-show="selectedRole === 'admin'" class="h-2 w-2 rounded-full bg-white"></div>
                                    </div>
                                    <span class="text-sm font-semibold" :class="selectedRole === 'admin' ? 'text-primary' : 'text-foreground'">Admin</span>
                                    <span class="text-xs text-muted-foreground mt-1">Full access to all features</span>
                                </button>
                                <button 
                                    @click="selectedRole = 'editor'"
                                    class="relative flex flex-col items-start p-4 rounded-xl border-2 transition-all text-left"
                                    :class="selectedRole === 'editor' ? 'border-primary bg-accent' : 'border-border hover:border-muted-foreground/30 hover:bg-secondary/30'"
                                >
                                    <div class="absolute top-4 right-4 h-5 w-5 rounded-full border-2 flex items-center justify-center transition-colors"
                                         :class="selectedRole === 'editor' ? 'border-primary bg-primary' : 'border-muted-foreground/30'">
                                        <div x-show="selectedRole === 'editor'" class="h-2 w-2 rounded-full bg-white"></div>
                                    </div>
                                    <span class="text-sm font-semibold" :class="selectedRole === 'editor' ? 'text-primary' : 'text-foreground'">Editor</span>
                                    <span class="text-xs text-muted-foreground mt-1">Can edit and publish content</span>
                                </button>
                                <button 
                                    @click="selectedRole = 'viewer'"
                                    class="relative flex flex-col items-start p-4 rounded-xl border-2 transition-all text-left"
                                    :class="selectedRole === 'viewer' ? 'border-primary bg-accent' : 'border-border hover:border-muted-foreground/30 hover:bg-secondary/30'"
                                >
                                    <div class="absolute top-4 right-4 h-5 w-5 rounded-full border-2 flex items-center justify-center transition-colors"
                                         :class="selectedRole === 'viewer' ? 'border-primary bg-primary' : 'border-muted-foreground/30'">
                                        <div x-show="selectedRole === 'viewer'" class="h-2 w-2 rounded-full bg-white"></div>
                                    </div>
                                    <span class="text-sm font-semibold" :class="selectedRole === 'viewer' ? 'text-primary' : 'text-foreground'">Viewer</span>
                                    <span class="text-xs text-muted-foreground mt-1">View-only access</span>
                                </button>
                            </div>
                        </div>

                        <!-- Tech Stack -->
                        <div class="space-y-4">
                            <h4 class="text-sm font-semibold text-foreground">Tech Stack</h4>
                            <p class="text-xs text-muted-foreground">Select the technologies you work with.</p>
                            <div class="flex flex-wrap gap-3">
                                <template x-for="tech in ['react', 'vue', 'angular', 'svelte', 'nextjs', 'tailwind']" :key="tech">
                                    <button 
                                        @click="selectedTech.includes(tech) ? selectedTech = selectedTech.filter(t => t !== tech) : selectedTech.push(tech)"
                                        class="inline-flex items-center gap-2 px-4 py-2 rounded-full border-2 text-sm font-medium transition-all"
                                        :class="selectedTech.includes(tech) ? 'border-primary bg-primary text-primary-foreground' : 'border-border text-muted-foreground hover:border-muted-foreground/50 hover:text-foreground'"
                                    >
                                        <i x-show="selectedTech.includes(tech)" data-lucide="check-circle" class="h-4 w-4"></i>
                                        <span x-text="tech.charAt(0).toUpperCase() + tech.slice(1)"></span>
                                    </button>
                                </template>
                            </div>
                        </div>

                        <!-- Timezone Select -->
                        <div class="space-y-2">
                            <label for="timezone" class="text-sm font-semibold text-foreground">Timezone</label>
                            <select id="timezone" x-model="timezone" class="form-input w-full max-w-md rounded-lg">
                                <option value="utc">UTC (Coordinated Universal Time)</option>
                                <option value="est">EST (Eastern Standard Time)</option>
                                <option value="pst">PST (Pacific Standard Time)</option>
                                <option value="cet">CET (Central European Time)</option>
                                <option value="jst">JST (Japan Standard Time)</option>
                                <option value="ist">IST (India Standard Time)</option>
                            </select>
                            <p class="text-xs text-muted-foreground">Your timezone will be used for all date and time displays.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Initialize Lucide Icons -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
        });
        
        // Re-initialize icons when Alpine updates DOM
        document.addEventListener('alpine:initialized', () => {
            const observer = new MutationObserver(() => {
                lucide.createIcons();
            });
            observer.observe(document.body, { childList: true, subtree: true });
        });
    </script>
</body>
</html>
